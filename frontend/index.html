<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TranscripciÃ³n de Videos a VTT</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¥ TranscripciÃ³n de Videos</h1>
            <p>Convierte tus videos a subtÃ­tulos VTT usando Whisper AI</p>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-card">
                    <h2>Subir Video</h2>
                    
                    <!-- Selector de idioma de entrada -->
                    <div class="language-selector">
                        <label for="language">Idioma del video (entrada):</label>
                        <select id="language" required>
                            <option value="">Selecciona un idioma</option>
                            <option value="auto">ğŸ” Detectar automÃ¡ticamente</option>
                            <option value="spanish">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                            <option value="english">ğŸ‡ºğŸ‡¸ English</option>
                            <option value="french">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                            <option value="german">ğŸ‡©ğŸ‡ª Deutsch</option>
                            <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                            <option value="portuguese">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                            <option value="russian">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                            <option value="japanese">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                            <option value="korean">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                            <option value="chinese">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                        </select>
                    </div>

                    <!-- Selector de idioma de salida -->
                    <div class="language-selector">
                        <label for="outputLanguage">Idioma de salida (opcional):</label>
                        <select id="outputLanguage">
                            <option value="">Sin traducciÃ³n</option>
                            <option value="spanish">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                            <option value="english">ğŸ‡ºğŸ‡¸ English</option>
                            <option value="french">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                            <option value="german">ğŸ‡©ğŸ‡ª Deutsch</option>
                            <option value="italian">ğŸ‡®ğŸ‡¹ Italiano</option>
                            <option value="portuguese">ğŸ‡µğŸ‡¹ PortuguÃªs</option>
                            <option value="russian">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                            <option value="japanese">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
                            <option value="korean">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
                            <option value="chinese">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                        </select>
                        <small class="translation-note">Si seleccionas un idioma diferente al de entrada, se traducirÃ¡n los subtÃ­tulos</small>
                    </div>

                    <!-- Ãrea de upload -->
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">ğŸ“</div>
                            <p>Arrastra tu video aquÃ­ o haz clic para seleccionar</p>
                            <p class="upload-hint">MÃ¡ximo 5 minutos â€¢ Formatos: MP4, AVI, MOV, MKV</p>
                        </div>
                        <input type="file" id="videoFile" accept="video/*" hidden>
                    </div>

                    <!-- InformaciÃ³n del archivo -->
                    <div class="file-info" id="fileInfo" style="display: none;">
                        <div class="file-details">
                            <span class="file-name" id="fileName"></span>
                            <span class="file-size" id="fileSize"></span>
                            <span class="file-duration" id="fileDuration"></span>
                        </div>
                        <button class="remove-file" id="removeFile">âœ•</button>
                    </div>

                    <!-- BotÃ³n de transcripciÃ³n -->
                    <button class="transcribe-btn" id="transcribeBtn" disabled>
                        <span class="btn-text">Transcribir Video</span>
                        <span class="btn-loader" style="display: none;">â³</span>
                    </button>
                </div>
            </div>

            <!-- SecciÃ³n de progreso -->
            <div class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-card">
                    <h3>Procesando...</h3>
                    <div class="progress-steps">
                        <div class="step" id="step1">
                            <div class="step-icon">ğŸ“¤</div>
                            <span>Subiendo video</span>
                        </div>
                        <div class="step" id="step2">
                            <div class="step-icon">ğŸµ</div>
                            <span>Extrayendo audio</span>
                        </div>
                        <div class="step" id="step3">
                            <div class="step-icon">ğŸ¤–</div>
                            <span>Transcribiendo con Whisper</span>
                        </div>
                        <div class="step" id="step4">
                            <div class="step-icon">ğŸŒ</div>
                            <span>Traduciendo texto</span>
                        </div>
                        <div class="step" id="step5">
                            <div class="step-icon">ğŸ“</div>
                            <span>Generando VTT</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p class="progress-text" id="progressText">Iniciando...</p>
                </div>
            </div>

            <!-- SecciÃ³n de resultados -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-card">
                    <h3>âœ… TranscripciÃ³n Completada</h3>
                    <div class="results-info">
                        <div class="info-item">
                            <span class="info-label">DuraciÃ³n:</span>
                            <span class="info-value" id="resultDuration"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Idioma entrada:</span>
                            <span class="info-value" id="resultInputLanguage"></span>
                        </div>
                        <div class="info-item" id="outputLanguageInfo" style="display: none;">
                            <span class="info-label">Idioma salida:</span>
                            <span class="info-value" id="resultOutputLanguage"></span>
                        </div>
                        <div class="info-item" id="translationInfo" style="display: none;">
                            <span class="info-label">Traducido:</span>
                            <span class="info-value">âœ… SÃ­</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Segmentos:</span>
                            <span class="info-value" id="resultSegments"></span>
                        </div>
                    </div>
                    <div class="results-actions">
                        <button class="download-btn" id="downloadBtn">
                            ğŸ“¥ Descargar VTT
                        </button>
                        <button class="new-transcription-btn" id="newTranscriptionBtn">
                            ğŸ”„ Nueva TranscripciÃ³n
                        </button>
                    </div>
                </div>
            </div>

            <!-- SecciÃ³n de error -->
            <div class="error-section" id="errorSection" style="display: none;">
                <div class="error-card">
                    <h3>âŒ Error en la TranscripciÃ³n</h3>
                    <p class="error-message" id="errorMessage"></p>
                    <button class="retry-btn" id="retryBtn">ğŸ”„ Intentar de Nuevo</button>
                </div>
            </div>
        </main>

        <footer>
            <p>Powered by OpenAI Whisper â€¢ Procesamiento local y privado</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>